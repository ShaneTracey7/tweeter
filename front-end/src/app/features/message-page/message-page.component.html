
<div id="mc" class="main-content">

    <div class="toolbar">
      <div class="upper-toolbar">
      <!-- upper toolbar add here-->

      <h1 class="page-title"> Messages </h1>
      <div class="title-icons">
        <img class="toolbar-icon" [src]="service.setUrl('cog.svg')" alt="cog"/>
        <img id="eplus-icon" [src]="service.setUrl('envelope-plus.svg')"alt="plus"/>
      </div>
        
      </div>
      <div class="lower-toolbar">
<!-- lower toolbar add here-->
      </div>
    </div>

<!-- main content add here-->
  
    <form id="message-form">
        <input id="message-searchbar" type="text" placeholder="Search Direct Messages">
    </form>

    <!-- inspect element in browser, it says reflect home page-->
    <main-content [mpc]='messagePageComponent' [page]=service.current_page></main-content>
<!--
    {% for message in messages %}
        {% include "message.html" with obj=message  %}
    {% endfor %}
-->
</div>






<div id="sc" class="secondary-content" [style]="setSCStyle()">
    <!-- secondary content add here-->

    <div id="sc-container"*ngIf="messagePageComponent.convo_clicked; else notClicked">  
        
        <div class="toolbar">
            <div class="upper-toolbar">
            <!-- upper toolbar add here-->
    
                <img class="message-img" [src]="this.service.setUrl(selectedConvo.otherUser.pic)" />
                <h1 class="page-title"> {{selectedConvo.otherUser.username}} </h1>
              
            </div>
        </div>

        <div class="sc-content">
            <div *ngFor="let message of selectedConvo.messages">

                <div *ngIf="message.isSender; else isReciever">
                    <div id="message-date-pair-sender" class="message-date-pair">
                        <p id="message-sender" class="message-in-convo">{{message.text}}</p>
                        <p id="date-sender"class="message-in-convo-date">{{message.getDateTime()}}</p>
                    </div>                    
                </div>
            
                <ng-template #isReciever> 
                    <div id="message-date-pair-reciever" class="message-date-pair">
                        <p id="message-reciever" class="message-in-convo">{{message.text}}</p>
                        <p id="date-reciever" class="message-in-convo-date">{{message.getDateTime()}}</p>
                    </div>
                </ng-template> 

            </div>
        </div>

        <div class="bottom-toolbar">
            <form id="send-message-form">
                <input id="message-input" placeholder="Start a new message">
                <img id="send-message-button" [src]="service.setUrl('send-arrow.png')"/>
            </form>
        </div>




    </div>

    <ng-template #notClicked> 
        <div id="message-blurb">
            <h2 id="messageb-title"> Select a message</h2>
            <p id="messageb-text">Choose from your existing conversations, start a new one, or just keep swimming.</p>
            <button id="messageb-button"> New message</button>
        </div>
    </ng-template>

</div>

<div class="modal-content">
<!-- modal content add here-->
</div>




